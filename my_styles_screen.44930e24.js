parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"ggqC":[function(require,module,exports) {
module.exports="/icon_add.bf140af3.svg";
},{}],"aTIt":[function(require,module,exports) {
module.exports="/no_style_v2.198f2d4d.svg";
},{}],"NV45":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useStyles=void 0;var e=require("@material-ui/core"),t=o(require("styles/themes"));function o(e){return e&&e.__esModule?e:{default:e}}var r=(0,e.makeStyles)(function(){return{main:{height:"100%"},searchForm:{marginTop:0,top:56,position:"absolute",left:0,right:0,padding:"18px 24px 0 ","@media (max-width: 1024px)":{position:"fixed"}},searchIcon:{position:"absolute",left:10,top:2,color:"white"},input:{padding:"10px 0 10px 30px",background:"transparent",border:"none",borderBottom:"1px solid #4a6c72 ",color:"white",fontSize:14,position:"relative"},filter:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 24px"},chipOutline:{border:"1px solid #4A6C72"},chipLabel:{padding:"0 8px",color:"white",fontFamily:"PoppinsRegular",fontSize:12,fontWeight:600},chipIcon:{color:"white"},buttonsWrapper:{display:"flex",justifyContent:"flex-start",alignItem:"center",overflowX:"scroll","& button":{border:"1px solid",backgroundColor:"transparent",borderRadius:71,color:t.default.palette.primary.main,fontSize:14,padding:"5px 8px",margin:"8px 4px"},"& buttonActive":{backgroundColor:t.default.palette.primary.main}},activeButton:{backgroundColor:"".concat(t.default.palette.primary.main," !important"),color:"".concat(t.default.palette.common.white," !important"),border:"none"}}});exports.useStyles=r;
},{"@material-ui/core":"dT3j","styles/themes":"bzqE"}],"W86n":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("react/jsx-runtime"),t=require("@apollo/client"),n=_(require("component/loading_spinner/loading_data_spinner")),r=require("component/popup/constant"),i=_(require("component/popup/customize_popup")),o=require("component/StandardAlert"),l=_(require("component/zoom_image")),a=_(require("config")),s=require("containers/style_detail/constant"),u=require("graph_ql"),c=require("graph_ql/styles/queries"),d=require("react"),f=require("react-div-100vh"),h=require("react-redux"),p=require("react-router-dom"),y=require("reduxDir/style"),v=require("routes/constant"),g=_(require("utils/style_item")),m=_(require("../../assets/svg/icon_add.svg")),S=_(require("../../assets/svg/no_style_v2.svg")),x=require("../../redux/create-style/create-style.slice"),b=_(require("./my-style-item")),q=_(require("./my_styles_items_layout")),I=require("./style");function _(e){return e&&e.__esModule?e:{default:e}}function A(e,t){return N(e)||T(e,t)||E(e,t)||j()}function j(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(s){a=!0,i=s}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return o}}function N(e){if(Array.isArray(e))return e}function w(){var _,j=(0,h.useSelector)(function(e){return e.userDetail.me}),E=(0,p.useHistory)(),C=(0,f.use100vh)(),T=(0,h.useDispatch)(),N=A((0,d.useState)(0),2),w=N[0],D=N[1],F=A((0,d.useState)(),2),O=F[0],P=F[1],M=(0,h.useSelector)(function(e){return e.style.listStyleStylist}),H=A((0,d.useState)(M),2),L=H[0],Y=H[1],k=(0,p.useLocation)(),R=(0,I.useStyles)(),V=A((0,d.useState)(s.EStatusFilter.All),2),B=V[0],z=V[1],U=function(e){switch(e){case s.EStatusFilter.All:return"";case s.EStatusFilter.Draft:return"status:draft AND ";case s.EStatusFilter.Unlisted:return"status:unlisted AND ";case s.EStatusFilter.Published:return"status:published AND ";case s.EStatusFilter.Others:return"NOT status:draft AND NOT status:unlisted AND NOT status:published AND ";default:return""}},W=(0,d.useMemo)(function(){return u.cache.modify({fields:{locationsInRadius:function(e,t){t.readField;return{}}}}),{filters:"".concat(U(B),"user.id:").concat(null==j?void 0:j.id),hit:a.default.algoliaHitPerPage,page:0}},[B]),G=(0,t.useQuery)(c.GET_MY_STYLES,{variables:W,fetchPolicy:"cache-first",onCompleted:function(e){var t,n;console.log("response",e),D((null==e?void 0:e.locationsInRadius.page)>=(null===(t=null==e?void 0:e.locationsInRadius)||void 0===t?void 0:t.nbPages)-1),T((0,y.getListStyleStylist)((null===(n=null==e?void 0:e.locationsInRadius)||void 0===n?void 0:n.hits)||[]))},onError:function(e){console.error("get data Failed: ",e)}}),Q=G.fetchMore,$=G.loading;(0,d.useEffect)(function(){C&&P(C-162)},[C]),(0,d.useEffect)(function(){M&&M.length>0?Y(M):Y([])},[M,k]);var J=A((0,d.useState)(),2),K=J[0],X=J[1],Z=A((0,d.useState)(!1),2),ee=Z[0],te=Z[1],ne=A((0,d.useState)(!1),2),re=ne[0],ie=ne[1],oe=A((0,d.useState)(""),2),le=oe[0],ae=oe[1];return(0,e.jsxs)(e.Fragment,{children:[ee&&(0,e.jsx)(i.default,{titlePopup:"styles"===(null==K?void 0:K.collection)?"Style Information":"Item Information",widgetCode:r.WidgetCode.ViewStyleInfo,infoItem:g.default.getInfo(K,"widgetpop"),onClose:function(){return te(!1)},pageCode:"feed"},void 0),re&&(0,e.jsx)(l.default,{img:le,setShowImage:ie},void 0),(0,e.jsx)(q.default,Object.assign({screenTitle:"My Styles"},{children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",Object.assign({className:R.buttonsWrapper},{children:null===(_=Object.values(s.EStatusFilter))||void 0===_?void 0:_.map(function(t){return(0,e.jsx)("button",Object.assign({className:B===t?R.activeButton:"",onClick:function(){z(t)}},{children:t}),t)})}),void 0),L.length>0?(0,e.jsx)(b.default,{listStyle:L,setListDataStyle:Y,heightContent:O,handleViewInfo:function(e){te(!0),console.log(e),X(e)},handleClick:function(e){ae(e),ie(!0)},handleClickStyleItem:function(e,t){t&&T((0,x.setCurrentEditingItemId)(t)),E.push("".concat(v.PATH.EDIT_STYLE_CANVAS,"/").concat(null==e?void 0:e.taffiId))},handleChangeSlide:function(e){e.activeIndex===M.length-a.default.algoliaPrefetchThreshold&&M.length>=a.default.algoliaHitItems&&e.activeIndex>e.previousIndex&&!w&&Q({variables:{page:Math.floor(M.length/a.default.algoliaHitItems),hit:a.default.algoliaHitItems}})}},void 0):(0,e.jsx)("div",Object.assign({style:{height:"calc( ".concat(C-56,"px - 150px)"),padding:"30px 24px 0"}},{children:(0,e.jsx)(o.StandardAlert,{height:"calc( ".concat(C-56,"px - 150px)"),icon:S.default,title:B===s.EStatusFilter.Published?"You have not published any styles":"You have not created any styles",body:"Click here to create a new style.",onButtonClick:function(){return E.push(v.PATH.CREATE_STYLE_CANVAS)},buttonText:"Add a new style",isIcon:!0,iconButton:m.default},void 0)}),void 0)]},void 0)}),void 0),$&&(0,e.jsx)(n.default,{},void 0)]},void 0)}var D=w;exports.default=D;
},{"react/jsx-runtime":"plwR","@apollo/client":"mEz9","component/loading_spinner/loading_data_spinner":"CfNc","component/popup/constant":"UlgC","component/popup/customize_popup":"yR3t","component/StandardAlert":"qJJx","component/zoom_image":"FAvC","config":"HMlT","containers/style_detail/constant":"sOzt","graph_ql":"TUid","graph_ql/styles/queries":"rsH0","react":"n8MK","react-div-100vh":"r79t","react-redux":"jYIL","react-router-dom":"uc19","reduxDir/style":"y7KX","routes/constant":"QgAm","utils/style_item":"JM2H","../../assets/svg/icon_add.svg":"ggqC","../../assets/svg/no_style_v2.svg":"aTIt","../../redux/create-style/create-style.slice":"AhH4","./my-style-item":"DsPP","./my_styles_items_layout":"Cdxn","./style":"NV45"}]},{},[], null)